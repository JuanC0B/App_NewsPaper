{% extends 'base.html' %}

{% block title %}Home{% endblock title %}

{% block content %}
<div class="container mt-4">

    <!-- âœ… Mensaje de bienvenida -->
    {% if user.is_authenticated %}
        <div class="alert alert-success text-center shadow-sm">
            <h5 class="mb-1">Hola <strong>{{ user.username }}</strong>, Â¡un placer tenerte por aquÃ­! ðŸ‘‹</h5>
            <p class="mb-2">Bienvenido al newspaper de Juan Cortes. Â¡PÃ¡sala bien! ðŸ˜„</p>
            <a href="{% url 'logout' %}" class="btn btn-danger btn-sm">Cerrar sesiÃ³n</a>
        </div>
    {% else %}
        <div class="alert alert-warning text-center shadow-sm">
            <p class="mb-2">No has iniciado sesiÃ³n.</p>
            <a href="{% url 'login' %}" class="btn btn-outline-primary btn-sm me-2">Iniciar sesiÃ³n</a>
            <a href="{% url 'signup' %}" class="btn btn-primary btn-sm">Registrarse</a>
        </div>
    {% endif %}

    <!-- âœ… Encabezado de secciÃ³n -->
    <h2 class="text-center fw-semibold my-5">ðŸ“° ArtÃ­culos publicados</h2>

    <!-- âœ… Tarjetas de artÃ­culos -->
    {% if articles %}
        <div class="row justify-content-center">
            {% for article in articles %}
                <div class="col-md-6 col-lg-4 d-flex align-items-stretch mb-4">
                    <div class="card w-100 shadow-sm border-0 rounded-4">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title fw-bold">{{ article.title }}</h5>
                            <p class="card-text mb-4">{{ article.body|truncatechars:130 }}</p>
                            <a href="{% url 'article_detail' article.id %}" class="btn btn-primary mt-auto">Leer mÃ¡s</a>
                        </div>
                        <div class="card-footer bg-white border-0 text-center text-muted small">
                            {% if article.photo or article.video %}
                                <span class="text-success">âœ” Este artÃ­culo contiene multimedia.</span>
                            {% else %}
                                <span class="text-muted">Este artÃ­culo no contiene multimedia.</span>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="text-center text-muted mt-4">No hay artÃ­culos publicados aÃºn.</p>
    {% endif %}
</div>
{% endblock content %}
